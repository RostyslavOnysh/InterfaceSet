# Метод compareTo() 

- використовується в Java для порівняння об'єктів та встановлення їх відносного порядку.
У випадку TreeSet цей метод використовується для визначення порядку елементів у дереві.

У наведеному вами коді : 
```java
 @Override
    public int compareTo(Users user) {
        int namesCompared = name.compareTo(user.name);
        if (namesCompared != 0) {
            return namesCompared;
        }
        return Integer.compare(age, user.age);
    }
```
метод ***compareTo()*** реалізований в класі ***Users*** і використовується для порівняння об'єктів 
типу ***Users*** за двома критеріями: 
* ім'ям 
* віком. 

### Давайте розглянемо його роботу поетапно:

1. ***int namesCompared = name.compareTo(user.name);*** - У цьому рядку спочатку порівнюється поле 
*name* ***поточного*** об'єкта з полем *name* ***переданого*** об'єкта user.
mетод ***compareTo()*** викликається для об'єкта типу String (або будь-якого класу, що ***реалізує інтерфейс Comparable***).
Він порівнює *два рядки* лексикографічно і повертає 
* від'ємне число, якщо перший рядок менше другого,
* нуль, якщо вони рівні,
* або додатне число, якщо перший рядок більше другого. 
Результат порівняння зберігається у змінній ***namesCompared***.
2. ***if (namesCompared != 0) { return namesCompared; }*** - У цьому рядку перевіряється, 
 чи значення *namesCompared не дорівнює нулю*.
 Якщо вони не рівні, це означає, що імена не співпадають, 
і порівняння закінчується, повертаючи результат порівняння імен.
3. ***return Integer.compare(age, user.age);*** - Якщо імена співпадають,
доходиться до цього рядка, де порівнюються значення полів age поточного об'єкта та переданого об'єкта user. 
Використовується метод *compare() класу Integer*, який також повертає від'ємне число, нуль або додатне число залежно від порівняння.

#### Отже, результат методу compareTo() буде від'ємним, нульовим або додатнім числом залежно від порівняння імен об'єктів,
або від порівняння імен у випадку рівних імен - порівняння віку. Клас TreeSet використовує цей результат для встановлення відносного
порядку елементів у дереві: елементи з меншим значенням compareTo() розташовуються перед елементами з більшим значенням, а елементи з однаковим значенням
compareTo() вважаються однаковими.


# Якщо не можемо імплементувати інтерфейс Сomparable або клас написаний не нами та не маємо доступу до source code 
Тоді можемо treeSet передати в конструктор Comparator
```java
Comparator<User> userComparator = new Comparator <User>() {
@Override
public int compareTo(Users o1, User o2) {
int namesCompared = o1.getName().compareTo(o2.getName);    
//name.compareTo(user.name); але замість того щоб на пряму звертатися до поля name
// яке в нас було в User ми будемо звертатися до getter першого обьека  та compare з with another one 
return namesCompared;
}
return Integer.compare(age, user.age);
}
}
```